<html xmlns:th="http://www.thymeleaf.org">

<head>
	<div th:include="default :: header"></div>
	<link rel="stylesheet" type="text/css" href="../css/create-prepaid-qr.css" />
	<link rel="stylesheet" type="text/css" href="../css/croppie.css" />
	<script type="text/javascript" src="../js/avatar.js"></script>
	<script type="text/javascript" src="../js/croppie.js"></script>
	<script type="text/javascript" src="../js/croppie.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/maps.css" />
	<script type="text/javascript" src="../js/html2canvas.js"></script>
	
</head>

<body onload="initMap(), retrivePrepaidQR()">

	<nav th:replace="default :: bar"></nav>

	<div id="divContent" class="container">

		<div class="container-fluid" id="divMainForm">
		
		<div id="dataCreatePrepaidQR" class="transparencyWithoutPadding">
		
			<h2 style="text-align: center">Servicio de información de
				mascotas</h2>
			<br>
			<!-- Needed to identify the id to update to -->
			<div class="form-group">
				<label for="idPrepaidQrCode">El código de activación es:</label>
				<h4>
					<span id="idPrepaidQrCode" th:text="${prepaidQR.id}"
						class="badge badge-lg badge-info">
				</h4>
			</div>

			<!-- Needed to update the name of the username -->
			<div class="form-group">
				<Label for="user">Asignado a usuario:</label>
				<h4>
					<span id="user" th:text="${currentUser}"
						class="badge badge-lg badge-info"
						style="color: white; text-align: center;"></span>
				</h4>
			</div>

			<!-- CouldExist or not, should be added manually by the admin -->
<!-- 			<div class="form-group"> -->
<!-- 				<label>Punto de venta</label> -->
<!-- 				<h4> -->
<!-- 					<span th:text="${prepaidQR.sellPoint}" -->
<!-- 						class="badge badge-lg badge-danger" -->
<!-- 						style="color: white; text-align: center;"></span> -->
<!-- 				</h4> -->
<!-- 			</div> -->
			<div class="container-fluid d-flex p-3 text-white" style="text-shadow: 1px 1px black;">
				<div id="demo-basic" style="width:150px;height:150px;" class="img-fluid rounded float-left p-2 bg-secondary">
					<img src="../img/withoutPhoto.png" id="crop" class="img-thumbnail" style="box-shadow: 2px 2px black;"/>
				</div>
				<div class="p-2 bg-secondary">
					<!-- Upload image -->
					<input type='file' id='file' name="file" accept="image/*" onchange="loadFile(event), cropImageAndSave()" style="text-shadow: 1px 2px black;display:inline-block;float:left;box-shadow: 2px 2px black;" class="btn btn-sm btn-info"/>
					<br>
					<br>
					<button id="basic-result" class="basic-result btn btn-sm btn-info" style="float:left; box-shadow: 2px 2px black;text-shadow: 1px 2px black;">Recortar</button>
					<br><br><small style="color:deeppink">Toque Recortar cuando haya centrado la imagen así se persiste en DB.</small><br><small>Esta imagen puede ser agregada a los modelos más grandes del código QR.</small>
					<img id='crop' />
					<!-- end upload -->
				</div>
			</div>
		<br><br><br>

			<br> <br>
			<h5>Datos básicos</h5>
			<hr style="border: 1px solid BlueViolet !important">
			<div class="row">
				<!-- Two colums -->
				<div class="col">
					<div class="form-group">
						<label for="raze">Raza</label>
						<!-- Start selector raze -->
						<select class="form-control" name="raze" id="raze">
							<option value="Otra" selected>Otra</option>
							<option value="Mestizo">Mestizo</option>
							<option value="Alaskan Malamute">Alaskan Malamute</option>
							<option value="American Staffordshire">American
								Staffordshire</option>
							<option value="Basset Hound">Basset Hound</option>
							<option value="Beagle">Beagle</option>
							<option value="Bichón Maltés">Bichón Maltés</option>
							<option value="Mobtail">Bobtail</option>
							<option value="Boxer">Boxer</option>
							<option value="Branco Alemán">Branco Alemán</option>
							<option value="Bulldog Francés">Bulldog Francés</option>
							<option value="Bulldog Inglés">Bulldog Inglés</option>
							<option value="Bullmastiff">Bullmastiff</option>
							<option value="Cane Corso">Cane Corso</option>
							<option value="Caniche">Caniche</option>
							<option value="Carlino">Carlino</option>
							<option value="Chihuahua">Chihuahua</option>
							<option value="Chow Chow">Chow Chow</option>
							<option value="Cocker Spaniel">Cocker Spaniel</option>
							<option value="Collie">Collie</option>
							<option value="Dálmata">Dálmata</option>
							<option value="Dobermann">Dobermann</option>
							<option value="Espagneul Breton">Espagneul Bretón</option>
							<option value="Galgo Español">Galgo Español</option>
							<option value="Golden Retriever">Golden Retriever</option>
							<option value="Husky Siberiano">Husky Siberiano</option>
							<option value="Labrador Retriever">Labrador Retriever</option>
							<option value="Leonberguer">Leonberguer</option>
							<option value="Mastín Español">Mastín Español</option>
							<option value="Pastor Alemán">Pastor Alemán</option>
							<option value="Pastor de Brie">Pastor de Brie</option>
							<option value="Perro de Agua Español">Perro de Agua
								Español</option>
							<option value="San Bernardo">San Bernardo</option>
							<option value="Scottish Terrier">Scottish Terrier</option>
							<option value="Schnauzer Miniatura">Schnauzer Miniatura</option>
							<option value="Setter Inglés">Setter Inglés</option>
							<option value="Teckel">Teckel</option>
							<option value="Terrier de Bedlington">Terrier de
								Bedlington</option>
							<option value="West Highland Terrier">West Highland
								Terrier</option>
							<option value="Yorkshire Terrier">Yorkshire Terrier</option>
						</select>
						<!-- End selector raze -->
					</div>
				</div>
				

				<div class="col">
					<div class="form-group">
						<label for="petname"><i class="fas fa-paw" style="color:turquoise"></i> Nombre mascota</label> <input type="text"
							id="petName" placeholder="Nombre de la mascota"
							class="form-control" required>
					</div>
				</div>

			</div>

			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="age"><i class="fas fa-birthday-cake" style="color:turquoise"></i> Edad</label>
						<div id="resultAge"></div>

						<!-- Start select age -->
						<select class="form-control" name="age" id="age" onchange="age()">
							<option value="2018">2018</option>
							<option value="2017">2017</option>
							<option value="2016">2016</option>
							<option value="2015">2015</option>
							<option value="2014">2014</option>
							<option value="2013">2013</option>
							<option value="2012">2012</option>
							<option value="2011">2011</option>
							<option value="2010">2010</option>
							<option value="2009">2009</option>
							<option value="2008">2008</option>
							<option value="2007">2007</option>
							<option value="2006">2006</option>
							<option value="2005">2005</option>
							<option value="2004">2004</option>
							<option value="2003">2003</option>
							<option value="2002">2002</option>
							<option value="2001">2001</option>
							<option value="2000">2000</option>
							<option value="1999">1999</option>
							<option value="1998">1998</option>
							<option value="1997">1997</option>
							<option value="1996">1996</option>
							<option value="1995">1995</option>
						</select>
						<!-- End select age -->
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="sex"><i class="fas fa-venus-mars" style="color:turquoise"></i> Sexo</label> <select id="sex"
							onchange="pregnant()" class="form-control">
							<option value="Macho">Macho</option>
							<option value="Hembra">Hembra</option>
						</select>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="weight"><i class="fas fa-weight" style="color:turquoise"></i> Peso</label> <input type="number" id="weight"
							maxlength="2" min="1" placeholder="5" class="form-control" />
					</div>
				</div>

			</div>
			<br> <br>
			<h5><i class="fas fa-syringe" style="color:turquoise"></i> Vacunación</h5>
			<hr style="border: 1px solid BlueViolet !important">
			<div class="form-group">
				<div class="form-check">
					<input type="checkbox" style="width: 18px; height: 18px;"
						class="form-check-input" id="checkVaccines"
						onchange="checkVaccines()" value=true> <label
						class="form-check-label">Vacunas</label>
				</div>
			</div>

			<br>
			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="dateAntiRabicVaccine">Antirábica</label> <input
							type="date" class="form-control" name="dateAntiRabicVaccine"
							id="dateAntiRabicVaccine" disabled>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="datePolivalentVaccine">Polivalente</label> <input
							type="date" class="form-control" name="datePolivalentVaccine"
							id="datePolivalentVaccine" disabled>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="dateSextupleVaccine">Sextuple</label> <input
							type="date" class="form-control" name="dateSextupleVaccine"
							id="dateSextupleVaccine" disabled>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="dateOctupleVaccine">Octuple</label> <input type="date"
							class="form-control" name="dateOctupleVaccine"
							id="dateOctupleVaccine" disabled>
					</div>
				</div>
			</div>
			<br> <br>
			<h5><i class="fas fa-heartbeat" style="color:turquoise"></i> Salud</h5>
			<hr  style="border: 1px solid BlueViolet !important">
			<div class="row">
				<div class="col-4">
					<div class="form-group">
						<label for="illness"><i class="fas fa-briefcase-medical" style="color:turquoise"></i> Sufre efermedad</label>
						<!-- Start select age -->
						<select class="form-control" name="illness" id="illness">
							<option value="Ninguna">Ninguna</option>
							<option value="Gastritis">Gastritis</option>
							<option value="Otitis">Otitis</option>
							<option value="Moquillo">Moquillo</option>
							<option value="Sarna">Sarna</option>
							<option value="Parasitos">Parasitos</option>
							<option value="Artrosis">Artrosis</option>
							<option value="Parvovirus">Parvovirus</option>
							<option value="Leishmaniosis">Leishmaniosis</option>
							<option value="Coronavirus">Coronavirus</option>
							<option value="Leptospirosis">Leptospirosis</option>
							<option value="HepatitisVirica">HepatitisVirica</option>
							<option value="Tumor">Tumor</option>
							<option value="Mastitis">Mastitis</option>
							<option value="Piometra">Piometra</option>
							<option value="Alergias">Alergias</option>
							<option value="TorsionGastrica">TorsionGastrica</option>
							<option value="Otra">Otra</option>
						</select>
					</div>
				</div>

				<div class="col-4">
					<div class="form-group">
						<label for="medicated"><i class="fas fa-pills" style="color:turquoise"></i> Está medicado</label>
						<!-- Start select Medicated -->
						<select class="form-control" name="medicated" id="medicated">
							<option value=true>Sí</option>
							<option value=false>No</option>
						</select>
					</div>
				</div>

				<div class="col-4">
					<div class="form-group">
						<label for="lastVeterinaryVisit"><i class="fas fa-user-md" style="color:turquoise"></i> Ult. revisión</label> <input
							type="date" class="form-control" name="lastVeterinaryVisit"
							id="lastVeterinaryVisit">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col form-group">
					<label for="neuteredPet">Castrado</label> <select id="neuteredPet"
						class="form-control">
						<option value=false>No</option>
						<option value=true>Sí</option>
					</select>
				</div>

				<div class="col form-group">
					<label for="pregnant">Embarazo</label> <select id="pregnant"
						class="form-control" disabled>
						<option value=false>No</option>
						<option value=true>Sí</option>
					</select>
				</div>
			</div>

			<div class="form-group">
				<label for="clinicHistory"><i class="fas fa-file-medical-alt" style="color:turquoise"></i> Historia Clínica</label>
				<textarea name="clinicHistory" id="clinicHistory"
					placeholder="Historia Clínica" rows="9" class="form-control"></textarea>
			</div>
			<br> <br>
			<h5>Alimentación</h5>
			<hr style="border: 1px solid BlueViolet !important">
			<br>
			<div id="feeding" class="row">
				<div class="col-4">
					<div class="form-group">
						<label for="foodBrand"><i class="fas fa-bone" style="color:turquoise"></i> Comida Bal.:</label> <input type="text"
							id="foodBrand" class="form-control"
							placeholder="Royal cannin, Proplan, etc">
					</div>
				</div>
				<div class="col-4">
					<div class="form-group">
						<label for="quantityFood"><i class="fas fa-weight-hanging" style="color:turquoise"></i> Cantidad Grs.:</label> <input
							type="number" min="1" id="quantityFood" class="form-control"
							placeholder="1000 gramos (1 kg al día)">
					</div>
				</div>

				<div class="col-4">
					<div class="form-group">
						<label for="coockedFood">Comida h.:</label> <select
							id="coockedFood" class="form-control">
							<option value="Nunca">Nunca</option>
							<option value="A veces">A veces</option>
							<option value="Todos los días">Todos los días</option>
						</select>
					</div>
				</div>
			</div>
			<br> <br>
			
			<h5>Estado respecto a Pet-QR</h5>
			<hr style="border: 1px solid BlueViolet !important">
			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="status">Estado</label>
						<!-- Start select status -->
						<select class="form-control" name="status" id="status">
							<option value="true">Normal</option>
							<option value="false">Perdido</option>
						</select>
					</div>
				</div>
			</div>
			<br> <br>
			<H5><i class="far fa-address-card" style="color:turquoise"></i> Datos del Tutor</H5>
			<hr style="border: 1px solid BlueViolet !important">
			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="ownerName"><i class="far fa-user" style="color:turquoise"></i> Nombre</label> <input type="text"
							name="name" id="ownerName" placeholder="Nombre del cuidador"
							class="form-control" required>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="ownerLastname">Apellido</label> <input type="text"
							name="lastname" id="ownerLastname"
							placeholder="Apellido del cuidador" class="form-control" required>
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="residence"><i class="far fa-flag" style="color:turquoise"></i> País</label> <select name="residence"
							id="residence" class="form-control" required>
							<option value="Argentina" id="AR">Argentina</option>
							<option value="Afganistán" id="AF">Afganistán</option>
							<option value="Albania" id="AL">Albania</option>
							<option value="Alemania" id="DE">Alemania</option>
							<option value="Andorra" id="AD">Andorra</option>
							<option value="Angola" id="AO">Angola</option>
							<option value="Anguila" id="AI">Anguila</option>
							<option value="Antártida" id="AQ">Antártida</option>
							<option value="Antigua y Barbuda" id="AG">Antigua y
								Barbuda</option>
							<option value="Antillas holandesas" id="AN">Antillas
								holandesas</option>
							<option value="Arabia Saudí" id="SA">Arabia Saudí</option>
							<option value="Argelia" id="DZ">Argelia</option>
							<option value="Armenia" id="AM">Armenia</option>
							<option value="Aruba" id="AW">Aruba</option>
							<option value="Australia" id="AU">Australia</option>
							<option value="Austria" id="AT">Austria</option>
							<option value="Azerbaiyán" id="AZ">Azerbaiyán</option>
							<option value="Bahamas" id="BS">Bahamas</option>
							<option value="Bahrein" id="BH">Bahrein</option>
							<option value="Bangladesh" id="BD">Bangladesh</option>
							<option value="Barbados" id="BB">Barbados</option>
							<option value="Bélgica" id="BE">Bélgica</option>
							<option value="Belice" id="BZ">Belice</option>
							<option value="Benín" id="BJ">Benín</option>
							<option value="Bermudas" id="BM">Bermudas</option>
							<option value="Bhután" id="BT">Bhután</option>
							<option value="Bielorrusia" id="BY">Bielorrusia</option>
							<option value="Birmania" id="MM">Birmania</option>
							<option value="Bolivia" id="BO">Bolivia</option>
							<option value="Bosnia y Herzegovina" id="BA">Bosnia y
								Herzegovina</option>
							<option value="Botsuana" id="BW">Botsuana</option>
							<option value="Brasil" id="BR">Brasil</option>
							<option value="Brunei" id="BN">Brunei</option>
							<option value="Bulgaria" id="BG">Bulgaria</option>
							<option value="Burkina Faso" id="BF">Burkina Faso</option>
							<option value="Burundi" id="BI">Burundi</option>
							<option value="Cabo Verde" id="CV">Cabo Verde</option>
							<option value="Camboya" id="KH">Camboya</option>
							<option value="Camerún" id="CM">Camerún</option>
							<option value="Canadá" id="CA">Canadá</option>
							<option value="Chad" id="TD">Chad</option>
							<option value="Chile" id="CL">Chile</option>
							<option value="China" id="CN">China</option>
							<option value="Chipre" id="CY">Chipre</option>
							<option value="Ciudad estado del Vaticano" id="VA">Ciudad
								estado del Vaticano</option>
							<option value="Colombia" id="CO">Colombia</option>
							<option value="Comores" id="KM">Comores</option>
							<option value="Congo" id="CG">Congo</option>
							<option value="Corea" id="KR">Corea</option>
							<option value="Corea del Norte" id="KP">Corea del Norte</option>
							<option value="Costa del Marfíl" id="CI">Costa del
								Marfíl</option>
							<option value="Costa Rica" id="CR">Costa Rica</option>
							<option value="Croacia" id="HR">Croacia</option>
							<option value="Cuba" id="CU">Cuba</option>
							<option value="Dinamarca" id="DK">Dinamarca</option>
							<option value="Djibouri" id="DJ">Djibouri</option>
							<option value="Dominica" id="DM">Dominica</option>
							<option value="Ecuador" id="EC">Ecuador</option>
							<option value="Egipto" id="EG">Egipto</option>
							<option value="El Salvador" id="SV">El Salvador</option>
							<option value="Emiratos Arabes Unidos" id="AE">Emiratos
								Arabes Unidos</option>
							<option value="Eritrea" id="ER">Eritrea</option>
							<option value="Eslovaquia" id="SK">Eslovaquia</option>
							<option value="Eslovenia" id="SI">Eslovenia</option>
							<option value="España" id="ES">España</option>
							<option value="Estados Unidos" id="US">Estados Unidos</option>
							<option value="Estonia" id="EE">Estonia</option>
							<option value="c" id="ET">Etiopía</option>
							<option value="Ex-República Yugoslava de Macedonia" id="MK">Ex-República
								Yugoslava de Macedonia</option>
							<option value="Filipinas" id="PH">Filipinas</option>
							<option value="Finlandia" id="FI">Finlandia</option>
							<option value="Francia" id="FR">Francia</option>
							<option value="Gabón" id="GA">Gabón</option>
							<option value="Gambia" id="GM">Gambia</option>
							<option value="Georgia" id="GE">Georgia</option>
							<option value="Georgia del Sur y las islas Sandwich del Sur"
								id="GS">Georgia del Sur y las islas Sandwich del Sur</option>
							<option value="Ghana" id="GH">Ghana</option>
							<option value="Gibraltar" id="GI">Gibraltar</option>
							<option value="Granada" id="GD">Granada</option>
							<option value="Grecia" id="GR">Grecia</option>
							<option value="Groenlandia" id="GL">Groenlandia</option>
							<option value="Guadalupe" id="GP">Guadalupe</option>
							<option value="Guam" id="GU">Guam</option>
							<option value="Guatemala" id="GT">Guatemala</option>
							<option value="Guayana" id="GY">Guayana</option>
							<option value="Guayana francesa" id="GF">Guayana
								francesa</option>
							<option value="Guinea" id="GN">Guinea</option>
							<option value="Guinea Ecuatorial" id="GQ">Guinea
								Ecuatorial</option>
							<option value="Guinea-Bissau" id="GW">Guinea-Bissau</option>
							<option value="Haití" id="HT">Haití</option>
							<option value="Holanda" id="NL">Holanda</option>
							<option value="Honduras" id="HN">Honduras</option>
							<option value="Hong Kong R. A. E" id="HK">Hong Kong R.
								A. E</option>
							<option value="Hungría" id="HU">Hungría</option>
							<option value="India" id="IN">India</option>
							<option value="Indonesia" id="ID">Indonesia</option>
							<option value="Irak" id="IQ">Irak</option>
							<option value="Irán" id="IR">Irán</option>
							<option value="Irlanda" id="IE">Irlanda</option>
							<option value="Isla Bouvet" id="BV">Isla Bouvet</option>
							<option value="Isla Christmas" id="CX">Isla Christmas</option>
							<option value="Isla Heard e Islas McDonald" id="HM">Isla
								Heard e Islas McDonald</option>
							<option value="Islandia" id="IS">Islandia</option>
							<option value="Islas Caimán" id="KY">Islas Caimán</option>
							<option value="Islas Cook" id="CK">Islas Cook</option>
							<option value="Islas de Cocos o Keeling" id="CC">Islas
								de Cocos o Keeling</option>
							<option value="Islas Faroe" id="FO">Islas Faroe</option>
							<option value="Islas Fiyi" id="FJ">Islas Fiyi</option>
							<option value="Islas Malvinas Islas Falkland" id="FK">Islas
								Malvinas Islas Falkland</option>
							<option value="Islas Marianas del norte" id="MP">Islas
								Marianas del norte</option>
							<option value="Islas Marshall" id="MH">Islas Marshall</option>
							<option value="Islas menores de Estados Unidos" id="UM">Islas
								menores de Estados Unidos</option>
							<option value="Islas Palau" id="PW">Islas Palau</option>
							<option value="Islas Salomón" d="SB">Islas Salomón</option>
							<option value="Islas Tokelau" id="TK">Islas Tokelau</option>
							<option value="Islas Turks y Caicos" id="TC">Islas Turks
								y Caicos</option>
							<option value="Islas Vírgenes EE.UU." id="VI">Islas
								Vírgenes EE.UU.</option>
							<option value="Islas Vírgenes Reino Unido" id="VG">Islas
								Vírgenes Reino Unido</option>
							<option value="Israel" id="IL">Israel</option>
							<option value="Italia" id="IT">Italia</option>
							<option value="Jamaica" id="JM">Jamaica</option>
							<option value="Japón" id="JP">Japón</option>
							<option value="Jordania" id="JO">Jordania</option>
							<option value="Kazajistán" id="KZ">Kazajistán</option>
							<option value="Kenia" id="KE">Kenia</option>
							<option value="Kirguizistán" id="KG">Kirguizistán</option>
							<option value="Kiribati" id="KI">Kiribati</option>
							<option value="Kuwait" id="KW">Kuwait</option>
							<option value="Laos" id="LA">Laos</option>
							<option value="Lesoto" id="LS">Lesoto</option>
							<option value="Letonia" id="LV">Letonia</option>
							<option value="Líbano" id="LB">Líbano</option>
							<option value="Liberia" id="LR">Liberia</option>
							<option value="Libia" id="LY">Libia</option>
							<option value="Liechtenstein" id="LI">Liechtenstein</option>
							<option value="Lituania" id="LT">Lituania</option>
							<option value="Luxemburgo" id="LU">Luxemburgo</option>
							<option value="Macao R. A. E" id="MO">Macao R. A. E</option>
							<option value="Madagascar" id="MG">Madagascar</option>
							<option value="Malasia" id="MY">Malasia</option>
							<option value="Malawi" id="MW">Malawi</option>
							<option value="Maldivas" id="MV">Maldivas</option>
							<option value="Malí" id="ML">Malí</option>
							<option value="Malta" id="MT">Malta</option>
							<option value="Marruecos" id="MA">Marruecos</option>
							<option value="Martinica" id="MQ">Martinica</option>
							<option value="Mauricio" id="MU">Mauricio</option>
							<option value="Mauritania" id="MR">Mauritania</option>
							<option value="Mayotte" id="YT">Mayotte</option>
							<option value="México" id="MX">México</option>
							<option value="Micronesia" id="FM">Micronesia</option>
							<option value="Moldavia" id="MD">Moldavia</option>
							<option value="Mónaco" id="MC">Mónaco</option>
							<option value="Mongolia" id="MN">Mongolia</option>
							<option value="Montserrat" id="MS">Montserrat</option>
							<option value="Mozambique" id="MZ">Mozambique</option>
							<option value="Namibia" id="NA">Namibia</option>
							<option value="Nauru" id="NR">Nauru</option>
							<option value="Nepal" id="NP">Nepal</option>
							<option value="Nicaragua" id="NI">Nicaragua</option>
							<option value="Níger" id="NE">Níger</option>
							<option value="Nigeria" id="NG">Nigeria</option>
							<option value="Niue" id="NU">Niue</option>
							<option value="Norfolk" id="NF">Norfolk</option>
							<option value="Noruega" id="NO">Noruega</option>
							<option value="Nueva Caledonia" id="NC">Nueva Caledonia</option>
							<option value="Nueva Zelanda" id="NZ">Nueva Zelanda</option>
							<option value="Omán" id="OM">Omán</option>
							<option value="Panamá" id="PA">Panamá</option>
							<option value="Papua Nueva Guinea" id="PG">Papua Nueva
								Guinea</option>
							<option value="Paquistán" id="PK">Paquistán</option>
							<option value="Paraguay" id="PY">Paraguay</option>
							<option value="Perú" id="PE">Perú</option>
							<option value="Pitcairn" id="PN">Pitcairn</option>
							<option value="Polinesia francesa" id="PF">Polinesia
								francesa</option>
							<option value="Polonia" id="PL">Polonia</option>
							<option value="Portugal" id="PT">Portugal</option>
							<option value="Puerto Rico" id="PR">Puerto Rico</option>
							<option value="Qatar" id="QA">Qatar</option>
							<option value="Reino Unido" id="UK">Reino Unido</option>
							<option value="República Centroafricana" id="CF">República
								Centroafricana</option>
							<option value="República Checa" id="CZ">República Checa</option>
							<option value="República de Sudáfrica" id="ZA">República
								de Sudáfrica</option>
							<option value="República Democrática del Congo Zaire" id="CD">República
								Democrática del Congo Zaire</option>
							<option value="República Dominicana" id="DO">República
								Dominicana</option>
							<option value="Reunión" id="RE">Reunión</option>
							<option value="Ruanda" id="RW">Ruanda</option>
							<option value="Rumania" id="RO">Rumania</option>
							<option value="Rusia" id="RU">Rusia</option>
							<option value="Samoa" id="WS">Samoa</option>
							<option value="Samoa occidental" id="AS">Samoa
								occidental</option>
							<option value="San Kitts y Nevis" id="KN">San Kitts y
								Nevis</option>
							<option value="San Marino" id="SM">San Marino</option>
							<option value="San Pierre y Miquelon" id="PM">San Pierre
								y Miquelon</option>
							<option value="San Vicente e Islas Granadinas" id="VC">San
								Vicente e Islas Granadinas</option>
							<option value="Santa Helena" id="SH">Santa Helena</option>
							<option value="Santa Lucía" id="LC">Santa Lucía</option>
							<option value="Santo Tomé y Príncipe" id="ST">Santo Tomé
								y Príncipe</option>
							<option value="Senegal" id="SN">Senegal</option>
							<option value="Serbia y Montenegro" id="YU">Serbia y
								Montenegro</option>
							<option value="Sychelles" id="SC">Seychelles</option>
							<option value="Sierra Leona" id="SL">Sierra Leona</option>
							<option value="Singapur" id="SG">Singapur</option>
							<option value="Siria" id="SY">Siria</option>
							<option value="Somalia" id="SO">Somalia</option>
							<option value="Sri Lanka" id="LK">Sri Lanka</option>
							<option value="Suazilandia" id="SZ">Suazilandia</option>
							<option value="Sudán" id="SD">Sudán</option>
							<option value="Suecia" id="SE">Suecia</option>
							<option value="Suiza" id="CH">Suiza</option>
							<option value="Surinam" id="SR">Surinam</option>
							<option value="Svalbard" id="SJ">Svalbard</option>
							<option value="Tailandia" id="TH">Tailandia</option>
							<option value="Taiwán" id="TW">Taiwán</option>
							<option value="Tanzania" id="TZ">Tanzania</option>
							<option value="Tayikistán" id="TJ">Tayikistán</option>
							<option value="Territorios británicos del océano Indico" id="IO">Territorios
								británicos del océano Indico</option>
							<option value="Territorios franceses del sur" id="TF">Territorios
								franceses del sur</option>
							<option value="Timor Oriental" id="TP">Timor Oriental</option>
							<option value="Togo" id="TG">Togo</option>
							<option value="Tonga" id="TO">Tonga</option>
							<option value="Trinidad y Tobago" id="TT">Trinidad y
								Tobago</option>
							<option value="Túnez" id="TN">Túnez</option>
							<option value="Turkmenistán" id="TM">Turkmenistán</option>
							<option value="Turquía" id="TR">Turquía</option>
							<option value="Tuvalu" id="TV">Tuvalu</option>
							<option value="Ucrania" id="UA">Ucrania</option>
							<option value="Uganda" id="UG">Uganda</option>
							<option value="Uruguay" id="UY">Uruguay</option>
							<option value="Uzbekistán" id="UZ">Uzbekistán</option>
							<option value="Vanuatu" id="VU">Vanuatu</option>
							<option value="Venezuela" id="VE">Venezuela</option>
							<option value="Vietnam" id="VN">Vietnam</option>
							<option value="Wallis y Futuna" id="WF">Wallis y Futuna</option>
							<option value="Yemen" id="YE">Yemen</option>
							<option value="Zambia" id="ZM">Zambia</option>
							<option value="Zimbabue" id="ZW">Zimbabue</option>
						</select>
					</div>
				</div>


				<div class="col">
					<div class="form-group">
						<label for="dni"><i class="fas fa-fingerprint" style="color:turquoise"></i> D.N.I</label> <input type="number" name="dni"
							id="dni" placeholder="DNI del cuidador" class="form-control"
							required>
					</div>
				</div>
			</div>


			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="telephone1"><i class="fas fa-mobile-alt" style="color:turquoise"></i> Teléfono</label> <input type="number"
							name="telephone1" id="telephone1" placeholder="Teléfono primario"
							class="form-control" />
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="telephone2"><i class="fas fa-mobile-alt" style="color:turquoise"></i> Teléfono</label> <input type="number"
							name="telephone2" id="telephone2"
							placeholder="Teléfono secundario" class="form-control" />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col">
					<div class="form-group">
						<label for="email"><i class="fas fa-envelope" style="color:turquoise"></i> Email</label> <input type="text" name="email"
							id="email" placeholder="Email" class="form-control" />
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="facebook"><i class="fab fa-facebook" style="color:turquoise"></i> Facebook</label> <input type="text"
							id="facebook"
							placeholder="Como aparecés en Facebook o la direcci�n exacta."
							class="form-control" />
					</div>
				</div>

				<div class="col">
					<div class="form-group">
						<label for="instagram"><i class="fab fa-instagram" style="color:turquoise"></i> Instagram</label> <input type="text"
							id="instagram"
							placeholder="Como aparecés en Instagram o la direcci�n exacta."
							class="form-control" />
					</div>
				</div>
			</div>

			<div class="form-group">
				<label for="address"><i class="fas fa-map-marked-alt"  style="color:turquoise"></i> Dirección principal (Dirección altura,
					localidad, provincia)</label> <input type="text" name="address"
					id="address"
					placeholder="Av. Libertador 650, Buenos Aires, Argentina"
					class="form-control is-invalid" /> <small class="form-text"
					style="color: pink; text-align: justify;">Es necesario
					utilizar el "motor" automático de direcciones para extraer la
					latitud y longitud requerida por la App, si no se utiliza, el mismo
					puede fallar y dar una dirección errónea en el mapa al momento de
					la lectura de código.</small>
			</div>

			<!-- Map Start -->
			<div id="testcanvas">
				<div id="map" class="container-fluid"></div>
			</div>
			<!-- Map End -->
			
			<!-- Button to upload start backside map image -->
			<div style="display:flex; flex-direction:column">
				<button class="btn btn-lg btn-primary" id="export" onclick="takePhoto()">Pic Backside Tag, centering the map</button>
			</div>
			<!-- Button to upload end backside map image -->

			<br>
			<br>
			
			<div id="videoDiv" class="form-group">
			<h5>Choose a video from Youtube</h5>
			<hr>
				<label for="videoUrl">Video Youtube</label><br>
				<input type="text" id="videoUrl" class="form-control">
			</div>

			<br>
			<div class="form-group">
				<button id="send" class="btn btn-danger" onclick="updateQr()">Almacenar
					datos y crear Código QR ==>  <i class="fas fa-qrcode"></i> + <i class="fas fa-database"></i></button>
				<br> <small
					style="color: lightpink; text-shadow: 0px 0px 5px black;">Importante:
					Si al hacer click y al cabo de unos segundos no aparece el código
					creado, revisar la dirección que sea válida para el motor de
					Google, ya que el sistema permitirá continuar SOLO si pudo obtener
					la Longitud y latitud de la dirección arriba declarada.</small>
			</div>
			
			<br> <br> <br> <br> <br> <br>
		
		</div>
		
		</div>
	</div>
	
	<script type="text/javascript">
		function takePhoto(){
            //get transform value
            var transform=$(".gm-style>div:first>div:first>div:last>div").css("transform")
            var comp=transform.split(",") //split up the transform matrix
            var mapleft=parseFloat(comp[4]) //get left value
            var maptop=parseFloat(comp[5])  //get top value
            $(".gm-style>div:first>div:first>div:last>div").css({ //get the map container. not sure if stable
              "transform":"none",
              "left":mapleft,
              "top":maptop,
            })

            html2canvas($('#testcanvas'),
            {   
              /* Html2canvas properties */
              useCORS: true,
              onrendered: function(canvas)
              {

				    var extra_canvas = document.createElement('canvas');
                		extra_canvas.setAttribute('width', 235);
                		extra_canvas.setAttribute('height', 235);
					var ctx = extra_canvas.getContext("2d");
						ctx.drawImage(canvas, (canvas.width/2)-117.5, (canvas.height/2)-117.5, 235, 235, 0, 0, 235, 235);
				    var finalimage = extra_canvas.toDataURL('image/png');

				    /* Start Ajax call  */
				    if(finalimage != null){
				    	var id = document.getElementById("idPrepaidQrCode").textContent;
						var base64Backside = finalimage;
						
						console.log(finalimage);
						
						var xhr = new XMLHttpRequest();
						var url = "/uploadBackside";
						
						xhr.open("POST", url, true);
						xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
						xhr.send("id="+id+"&base64Backside="+base64Backside);
						
						xhr.onreadystatechange = function () {
							if (xhr.readyState == 4 && xhr.status == 200) {
								
								$.confirm({
									type: "blue",
									title: "Confirme la imagen:",
									content: "<html><body><div style='text-align:center'><img src="+ base64Backside +" /></div></body></html>",
									confirm: function(){
										$.alert("Imagen persistida en DB con éxito.");
									},
								    cancel: function(){
								        $.alert({
								        	type:'blue',
								        	title: 'Acción',
								        	content:'Cancelada!'
								        });
								    }
								});		
								
							}
						}
	
				    }
		    	/* End Ajax call */
				    
				
                $(".gm-style>div:first>div:first>div:last>div").css({
                  left:0,
                  top:0,
                  "transform":transform
                })

              }
            });
        }
	</script>
	
	
		<!-- Start Google Maps Javascript -->
		<script type="text/javascript" src="../js/googleApis.js"></script>
		<!-- Javascript maps libraries -->
		<script
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDFuQb3h_4AhG3Kmdf3NIz3aZfzsguDQOE&libraries=places&callback=initMap"
			async defer></script>
		<!-- Javascript maps libraries -->
	
	<!--Template footer-->
	<footer th:replace="default :: footer"></footer>
</body>

</html>